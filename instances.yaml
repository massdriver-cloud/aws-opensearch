---
type: object
properties:
  instance_storage_type:
    type: string
    enum:
      - EBS
      - SSD
    default: EBS
required:
  - instance_storage_type
  - instance_type
dependencies:
  instance_storage_type:
    oneOf:
      - properties:
          instance_storage_type:
            const: EBS
          instance_type:
            type: string
            enum: [m3.small, m3.large]
          ebs_options:
            type: object
            required: [volume_size, volume_type]
            properties:
              volume_size:
                type: integer
              volume_type:
                type: string
                enum: [gp2, gp3]
      - properties:
          instance_storage_type:
            const: SSD
          instance_type:
            type: string
            enum: [m3gd.small, m3gd.large]
